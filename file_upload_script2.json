{"files":[{"id":"53453eb3-87e1-4700-bfdf-a7079edea82a","name":"server","type":"server_js","source":"//Script to allow anonymous users to upload to a google drive folder with a basic email notification upon upload\n\nfunction doGet(e) {\n  return HtmlService.createHtmlOutputFromFile(\u0027form.html\u0027);\n        \n}\n\nfunction uploadFiles(form) {\n  try {\n    \n    var dropbox \u003d \"PAC\"; // Input the name of the folder to be used for holding the uploaded files\n    var folder, folders \u003d DriveApp.getFoldersByName(dropbox);\n        \n    if (folders.hasNext()) {\n      folder \u003d folders.next();\n    } else {\n      folder \u003d DriveApp.createFolder(dropbox); // Otherwise by default a \u0027dropbox\u0027 folder will be created\n    }\n    \n    var blob \u003d form.myFile;    \n    var file \u003d folder.createFile(blob);\n    var out_str \u003d \u0027File upload successfull!\u0027;\n    var out_str2 \u003d \u0027  File path \u003d \u0027;    \n    var out_str3 \u003d \u0027  Thank you, please close this tab and complete the survey (you may copy the file path and paste it in the document text field as confirmation)\u0027;\n    file.setDescription(\"Uploaded by \" + form.myName);\n    return out_str.fontcolor(\"white\") + out_str2.fontcolor(\"white\") + file.getUrl().fontcolor(\"white\") + \u0027\\n\u0027 + out_str3.fontcolor(\"white\");\n  }\n    \n  catch (error) {\n    return error.toString();\n  }  \n    \n  finally {MailApp.sendEmail (\"centralphoenixnow@gmail.com\", // to field for the email. Can input multiple, ie: \"1@email.com, 2@email.com\",\n                  \"from@gmail.com\",       // from field\n                  \"PAC candidate upload detected\",      // email subject\n                  \"You have a new PAC file upload to review.\");  // email body\n    }\n}"},{"id":"3cf5ff72-7476-4bba-ba6b-33ac0c900c3a","name":"form","type":"html","source":"\u003c!doctype html\u003e\n\u003chtml\u003e\n\u003cmeta charset\u003d\"utf-8\"\u003e\n\u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1, shrink-to-fit\u003dno\"\u003e\n\u003cmeta name\u003d\"description\" content\u003d\"\"\u003e\n\u003cmeta name\u003d\"author\" content\u003d\"\"\u003e\n\n\u003c!-- Custom fonts --\u003e\n\u003clink href\u003d \u0027https://fonts.googleapis.com/css?family\u003dOpen+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800\u0027 rel\u003d\u0027stylesheet\u0027 type\u003d\u0027text/css\u0027\u003e\n\u003clink href\u003d \u0027https://fonts.googleapis.com/css?family\u003dMerriweather:400,300,300italic,400italic,700,700italic,900,900italic\u0027 rel\u003d\u0027stylesheet\u0027 type\u003d\u0027text/css\u0027\u003e\n\n\u003cstyle type\u003d\"text/css\"\u003e\nbody {\n\tbackground-color: #FFFFFF;\n}\n\u003c/style\u003e\n\u003chead\u003e\n\u003cdiv class\u003d\"background-img\"\u003e\n\u003cimg src\u003d\"https://aznow.github.io/sedona_mtns9.jpg\"\u003e\n\u003c/div\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cBR\u003e\n\u003cBR\u003e\n\u003cBR\u003e\n\u003cdiv align\u003d\"center\"\u003e\n  \u003cp\u003e\n  \u003cimg src\u003d\"https://aznow.github.io/now-pac-logo-color-small_01-04-18.png\"\u003e\n  \u003c/p\u003e\n  \u003cbr\u003e\n  \u003cbr\u003e\n  \u003cspan\u003e AZNOW PAC File Uploader\n  \u003cbr\u003e\n  \u003cp class\u003d\"span_caption\"\u003e (Size limit \u003d 5GB, if unsuccessful, please send to AzNowPAC@aznow.org) \n  \u003c/p\u003e\n  \u003c/span\u003e\n  \u003ctable width\u003d\"459\" border\u003d\"0\"\u003e\n  \u003ctbody\u003e\n  \u003ctr\u003e\n  \u003ctd width\u003d\"462\"\u003e\u003cdiv align\u003d\"center\"\u003e\n  \u003chr\u003e\n  \u003c/div\u003e\n  \u003cform id\u003d\"myForm\" align\u003d\"center\"\u003e\n  \u003cinput type\u003d\"text\" name\u003d\"myName\" placeholder\u003d\"Your name..\"\u003e\n  \u003cinput class\u003d\"upload_button\" type\u003d\"file\" name\u003d\"myFile\"\u003e\n  \u003cinput type\u003d\"submit\" value\u003d\"Upload File\" onclick\u003d\"this.value\u003d\u0027Uploading..\u0027; google.script.run.withSuccessHandler(fileUploaded).uploadFiles(this.parentNode);\n  return false;\"\u003e\n  \u003c/form\u003e\n  \u003cdiv id\u003d\"output\"\u003e\n  \u003c/div\u003e\n\n\u003cscript\u003e\nfunction fileUploaded(status) {\n  document.getElementById(\u0027myForm\u0027).style.display \u003d \u0027none\u0027;\n  document.getElementById(\u0027output\u0027).innerHTML \u003d status;\n}\n\u003c/script\u003e\n\n\u003cstyle\u003e\ninput { \n  display: block; \n  margin: 20px; \n}\n\u003c/style\u003e\n\n\u003chr\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003e\u0026nbsp;\n\u003c/h3\u003e\n\u003cp\u003e\u0026nbsp;\n\u003c/p\u003e\n\u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n\n\u003cstyle type \u003d \"text/css\"\u003e\n\n.background-img img {\n  margin: 0px 0px auto 0px \n  background-size: cover;\n  background-position: center;\n  position: absolute;\n  width: calc(100% + 150px);\n  height: calc(100% + 150px);\n  z-index: -1;\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: #FFFFFF;\n}\n\ninput { \n  display: block; \n  margin: 20px; \n}\n\np img { \n  margin: 10px auto auto auto;\n  width: 250px;\n  height: 300px;\n}\n\nspan {\n  font-family: Arial, sans-serif, Open Sans;\n  font-size: 16px;\n  color: #ffffff;\n  font-weight: bold;\n}\n\n.span_caption {\n  font-family: Arial, sans-serif, Open Sans;\n  font-size: 14px;\n  color: #ffffff;\n}\n\n.upload_button {\n  color: #ffffff;\n}\n\u003c/style\u003e\n\n"},{"id":"32ef9db0-23d5-4a65-a1f9-eef8ae3b6bdf","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Asia/Calcutta\",\n  \"dependencies\": {\n  },\n  \"webapp\": {\n    \"access\": \"ANYONE_ANONYMOUS\",\n    \"executeAs\": \"USER_DEPLOYING\"\n  },\n  \"exceptionLogging\": \"STACKDRIVER\"\n}"}]}